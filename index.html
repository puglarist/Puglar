<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Puglar VR Metaverse</title>
    <meta
      name="description"
      content="A lightweight WebXR metaverse world optimized for Meta Quest and hosted on GitHub Pages."
    />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@7.5.3/dist/aframe-extras.min.js"></script>
  </head>
  <body>
    <div id="hud" aria-live="polite">
      <h1>Puglar VR Metaverse</h1>
      <p>
        Room: <strong id="room-name">default</strong>
        <span id="connection-state">(local world)</span>
      </p>
      <ol>
        <li>Open this page from your Quest Browser over <code>https://</code>.</li>
        <li>Tap <strong>Enter VR</strong>.</li>
        <li>Use thumbsticks/WASD to move and explore.</li>
      </ol>
      <button id="share-room" type="button">Copy Room Link</button>
      <p id="share-status" role="status"></p>
    </div>

    <a-scene
      renderer="colorManagement: true; physicallyCorrectLights: true"
      background="color: #0d1020"
      vr-mode-ui="enabled: true"
      loading-screen="dotsColor: #f7b500; backgroundColor: #0d1020"
    >
      <a-assets>
        <img id="sky" src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/sechelt.jpg" alt="Sky panorama" />
      </a-assets>

      <a-sky src="#sky" rotation="0 -130 0"></a-sky>
      <a-entity light="type: ambient; color: #bbb"></a-entity>
      <a-entity light="type: directional; color: #fff; intensity: 0.8" position="1 3 2"></a-entity>

      <a-plane
        rotation="-90 0 0"
        width="120"
        height="120"
        color="#385a3c"
        shadow
      ></a-plane>

      <a-entity id="metaverse-hub" position="0 0 -8">
        <a-cylinder radius="4" height="0.4" color="#2a2a30" position="0 0.2 0"></a-cylinder>
        <a-torus radius="3.6" radius-tubular="0.06" color="#f7b500" rotation="90 0 0" position="0 0.45 0"></a-torus>
        <a-text
          value="Puglar Hub"
          align="center"
          color="#f7b500"
          position="0 2.6 0"
          width="12"
        ></a-text>
      </a-entity>

      <a-entity id="landmarks"></a-entity>

      <a-entity
        id="rig"
        movement-controls="speed: 0.2; fly: false"
        position="0 1.6 4"
      >
        <a-entity camera look-controls wasd-controls="acceleration: 35"></a-entity>
        <a-entity laser-controls="hand: left"></a-entity>
        <a-entity laser-controls="hand: right"></a-entity>
      </a-entity>
    </a-scene>

    <script src="app.js"></script>
  </body>
</html>
